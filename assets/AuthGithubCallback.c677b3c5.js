import{u as l,r as i,b as u}from"./index.f58e1107.js";import{a as p}from"./AxiosClient.d2a9e21e.js";import{u as d}from"./useDispatch.39f40752.js";const g=()=>{const t=new URLSearchParams(window.location.search).get("code"),r=d(),a=l(),c=async()=>{var e,o;try{const{data:s}=await p.post(`/api/v1/auth/callback/github?code=${t}`);r(u.setUser(s.response)),s!=null&&Boolean(s.response.user.roles.includes(1))?a("/dashboard"):s!=null&&Boolean(s.response.user.roles.includes(2))&&a("/home")}catch(s){const n=(o=(e=s.response)==null?void 0:e.data)==null?void 0:o.message;console.log(n)}};return i.exports.useEffect(()=>{c()},[]),null};export{g as AuthGithubCallback,g as default};
